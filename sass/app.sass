@import "compass/css3/transform"
@import "compass/css3/transition"
@import "compass/typography/text/replacement"

$water: #C8E0F5
$text: #004f6f

body, html
  margin: 0
  overflow: hidden

body
  background: $water
  color: $text

h1
  position: absolute
  text-align: center
  width: 100%

#key
  margin-top: 80px  // place below h1
  text-align: center

img
  max-width: 100%

.mirror
  +scaleX(-1)

%left
  left: 0
  +translateX(-87px - 10px)

%right
  left: 100%
  +translateX(10px)

.party
  @extend %left
  +transition-property(left, transform)
  +transition-timing-function(linear)
  position: absolute
  height: 100px
  width: 77px

  &.launched
    @extend %right

  &.mirror
    @extend %right
    &.launched
      @extend %left

.fast
  +transition-duration(30s)

.medium
  +transition-duration(45s)

.slow
  +transition-duration(60s)

.veryslow
  +transition-duration(120s)

%carrier
  background-repeat: no-repeat
  position: absolute

.boat
  @extend %carrier
  background-image: url(images/boat.png)
  bottom: 0
  height: 46px
  left: 0
  width: 87px

.ripples
  @extend %carrier
  background: url(images/flotsam-ripples.png)
  bottom: 21px
  height: 14px
  left: 4px
  width: 28px

.passenger
  background-repeat: no-repeat
  position: absolute
  z-index: -1
  &:first-child
    left: 0
  &:nth-child(2)
    right: 0

.lovers
  background: url(images/lovers.png)
  height: 37px
  top: 27px
  width: 46px

.murderer
  background: url(images/murderer.png)
  height: 78px
  top: -13px
  width: 51px
  &.mirror:nth-child(1)
    left: -10px
  &:nth-child(2)
    right: -15px
  &.mirror:nth-child(2)
    right: 0

.penguin
  background: url(images/penguin.png)
  height: 34px
  top: 35px
  width: 43px

.robot
  background-image: url(images/robot.png)
  height: 55px
  top: 13px
  width: 42px

.victim
  background-image: url(images/victim.png)
  height: 36px
  top: 34px
  width: 50px
  &:nth-child(1)
    left: -5px
  &:nth-child(2)
    right: -8px

.voyeur
  background-image: url(images/voyeur.png)
  height: 40px
  top: 25px
  width: 43px

%bg
  z-index: -1

.ripples1
  @extend %bg
  @extend %carrier
  background-image: url(images/ripples1.png)
  height: 20px
  width: 43px

.ripples2
  @extend %bg
  @extend %carrier
  background-image: url(images/ripples2.png)
  height: 12px
  width: 27px

.ripples3
  @extend %bg
  @extend %carrier
  background-image: url(images/ripples3.png)
  height: 11px
  width: 36px

.ripples4
  @extend %bg
  @extend %carrier
  background-image: url(images/ripples4.png)
  height: 3px
  width: 15px



.debug .party
  outline: 2px dashed lime
  > *
    outline: 2px dashed pink
